<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
      <title>Spotify PKCE Demo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>

    <div class="wrapper">
      <header>
        <h1>Spotify API Demo</h1>
        <p>Log in and explore the functionality.</p>
      </header>

      <main>
        <!-- Auth controls -->
        <div class="controls">
          <button id="login-btn">Log in with Spotify</button>
          <button id="logout-btn" disabled>Log out</button>
        </div>

        <!-- Status panel -->
        <section class="output-tile">
          <h2>Status</h2>
          <pre id="output">(Not logged in)</pre>
        </section>
      </main>

      <!-- Search Section Area -->
      <main id="search-sections" class="search-section">
          <section class="track-search">
            <h2>Search for a Track</h2>
  
            <form id="track-search-form">
              <input
              type="text"
              id="track-query"
              placeholder="Search for a song..."
              required
              />
              <button type="submit">Search</button>
            </form>
  
          </section>
         <section class="album-search">
          <h2>Search for an Album</h2>

          <form id="album-search-form">
            <input
            type="text"
            id="album-query"
            placeholder="Search for an album..."
            required
            />
            <button type="submit">Search</button>
          </form>
        </section>
        <section class="playlist-search">
          <h2>Search for a Playlist</h2>

          <form id="playlist-search-form">
            <input
            type="text"
            id="playlist-query"
            placeholder="Search for a playlist..."
            required
            />
            <button type="submit">Search</button>
          </form>

        </section>
      </main>

      <!-- Player Area -->
      <main id="player-section" class="player-section is-hidden">
        <section class="player-card">
          <h2>Now Playing</h2>

          <div class="player-meta">
            <div class="player-cover"></div>
            <div class="player-text">
              <h3 id="player-title" class="player-title">Nothing playing</h3>
              <p id="player-subtitle" class="player-subtitle"></p>
              <a
                id="player-open-link"
                href="#"
                target="_blank"
                rel="noopener"
                class="player-link is-hidden"
              >
                Open in Spotify
              </a>
            </div>
          </div>

          <audio id="player-audio" class="player-audio" controls></audio>
          <p id="player-message" class="player-message"></p>
        </section>
      </main>


      <!-- Search Result Area -->
      <main class="result-section is-hidden">
        <section>
          <h2>Results</h2>
          <div class="result-window">
            <!-- Status / messages like "Searching..." or errors -->
            <p id="results-status" class="results-status">
              (Songs/Albums/Playlists will appear here)
            </p>

            <!-- Tiles go here -->
            <div id="results-container" class="results-container">
              <!-- JS will inject one tile per result -->
            </div>
          </div>
        </section>
      </main>

      <!-- Debug Section -->      
      <main class="debug">
        <section>
          <!-- Debug toggle button -->
          <button type="button" id="toggle-results-btn">
            Toggle Results
          </button>
        </section>
      </main>
      
    </div>

    <!-- Our JS (PKCE + API calls) -->
    <script type="module" src="app.js"></script>
  </body>
</html>
